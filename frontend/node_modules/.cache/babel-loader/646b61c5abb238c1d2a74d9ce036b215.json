{"ast":null,"code":"import _objectSpread from\"/Volumes/Godown/Riafy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Volumes/Godown/Riafy/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{fetchSearchResult}from\"./searchHelper/SearchHelper\";import{ListGroup}from\"react-bootstrap\";import{Link,useHistory,useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBox=function SearchBox(){var history=useHistory();var _useState=useState({keyword:\"\",error:false,result:[],loading:false,message:\"\"}),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var keyword=search.keyword,result=search.result;var changehandler=function changehandler(event){setSearch(_objectSpread(_objectSpread({},search),{},{keyword:event.target.value,error:false,loading:true,message:\"\"}));};useEffect(function(){if(keyword){fetchSearchResult({keyword:keyword}).then(function(data){if(data.error){setSearch(_objectSpread(_objectSpread({},search),{},{error:data.error}));}else{setSearch(_objectSpread(_objectSpread({},search),{},{result:data}));}});}else{setSearch(_objectSpread(_objectSpread({},search),{},{result:[]}));}},[keyword]);var clickHandler=function clickHandler(event){history.push({companyId:event.target.getAttribute(\"value\"),pathname:\"/Detailpage\"});};var ListItems=function ListItems(){return/*#__PURE__*/_jsx(ListGroup,{children:result.map(function(list,idx){return/*#__PURE__*/_jsx(\"li\",{value:list._id,onClick:clickHandler,className:\"text-left  list-group-item\",children:list.market_cap},idx);})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-8  mx-auto mt-5 \",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control searchBox\",placeholder:\"Search the company ...\",onChange:changehandler,name:\"search\"}),/*#__PURE__*/_jsx(ListItems,{})]});};export default SearchBox;","map":{"version":3,"sources":["/Volumes/Godown/Riafy/frontend/src/components/home/Searcbox.js"],"names":["React","useState","useEffect","fetchSearchResult","ListGroup","Link","useHistory","useLocation","SearchBox","history","keyword","error","result","loading","message","search","setSearch","changehandler","event","target","value","then","data","clickHandler","push","companyId","getAttribute","pathname","ListItems","map","list","idx","_id","market_cap"],"mappings":"ySAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,iBAAT,KAAkC,6BAAlC,CACA,OAASC,SAAT,KAA0B,iBAA1B,CACA,OAASC,IAAT,CAAeC,UAAf,CAA2BC,WAA3B,KAA8C,kBAA9C,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAMC,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CADsB,cAEML,QAAQ,CAAC,CACnCS,OAAO,CAAE,EAD0B,CAEnCC,KAAK,CAAE,KAF4B,CAGnCC,MAAM,CAAE,EAH2B,CAInCC,OAAO,CAAE,KAJ0B,CAKnCC,OAAO,CAAE,EAL0B,CAAD,CAFd,wCAEfC,MAFe,eAEPC,SAFO,kBAUdN,CAAAA,OAVc,CAUMK,MAVN,CAUdL,OAVc,CAULE,MAVK,CAUMG,MAVN,CAULH,MAVK,CAYtB,GAAMK,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/BF,SAAS,gCACJD,MADI,MAEPL,OAAO,CAAEQ,KAAK,CAACC,MAAN,CAAaC,KAFf,CAGPT,KAAK,CAAE,KAHA,CAIPE,OAAO,CAAE,IAJF,CAKPC,OAAO,CAAE,EALF,GAAT,CAOD,CARD,CAUAZ,SAAS,CAAC,UAAM,CACd,GAAIQ,OAAJ,CAAa,CACXP,iBAAiB,CAAC,CAAEO,OAAO,CAAEA,OAAX,CAAD,CAAjB,CAAwCW,IAAxC,CAA6C,SAACC,IAAD,CAAU,CACrD,GAAIA,IAAI,CAACX,KAAT,CAAgB,CACdK,SAAS,gCACJD,MADI,MAEPJ,KAAK,CAAEW,IAAI,CAACX,KAFL,GAAT,CAID,CALD,IAKO,CACLK,SAAS,gCAAMD,MAAN,MAAcH,MAAM,CAAEU,IAAtB,GAAT,CACD,CACF,CATD,EAUD,CAXD,IAWO,CACLN,SAAS,gCAAMD,MAAN,MAAcH,MAAM,CAAE,EAAtB,GAAT,CACD,CACF,CAfQ,CAeN,CAACF,OAAD,CAfM,CAAT,CAiBA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACL,KAAD,CAAW,CAC9BT,OAAO,CAACe,IAAR,CAAa,CACXC,SAAS,CAAEP,KAAK,CAACC,MAAN,CAAaO,YAAb,CAA0B,OAA1B,CADA,CAEXC,QAAQ,CAAE,aAFC,CAAb,EAID,CALD,CAOA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,sBAChB,KAAC,SAAD,WACGhB,MAAM,CAACiB,GAAP,CAAW,SAACC,IAAD,CAAOC,GAAP,qBACV,WAEE,KAAK,CAAED,IAAI,CAACE,GAFd,CAGE,OAAO,CAAET,YAHX,CAIE,SAAS,CAAC,4BAJZ,UAMGO,IAAI,CAACG,UANR,EACOF,GADP,CADU,EAAX,CADH,EADgB,EAAlB,CAeA,mBACE,aAAK,SAAS,CAAC,yBAAf,wBACE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,wBAFZ,CAGE,WAAW,CAAC,wBAHd,CAIE,QAAQ,CAAEd,aAJZ,CAKE,IAAI,CAAC,QALP,EADF,cAQE,KAAC,SAAD,IARF,GADF,CAYD,CAzED,CA0EA,cAAeT,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { fetchSearchResult } from \"./searchHelper/SearchHelper\";\nimport { ListGroup } from \"react-bootstrap\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\n\nconst SearchBox = () => {\n  const history = useHistory();\n  const [search, setSearch] = useState({\n    keyword: \"\",\n    error: false,\n    result: [],\n    loading: false,\n    message: \"\",\n  });\n\n  const { keyword, result } = search;\n\n  const changehandler = (event) => {\n    setSearch({\n      ...search,\n      keyword: event.target.value,\n      error: false,\n      loading: true,\n      message: \"\",\n    });\n  };\n\n  useEffect(() => {\n    if (keyword) {\n      fetchSearchResult({ keyword: keyword }).then((data) => {\n        if (data.error) {\n          setSearch({\n            ...search,\n            error: data.error,\n          });\n        } else {\n          setSearch({ ...search, result: data });\n        }\n      });\n    } else {\n      setSearch({ ...search, result: [] });\n    }\n  }, [keyword]);\n\n  const clickHandler = (event) => {\n    history.push({\n      companyId: event.target.getAttribute(\"value\"),\n      pathname: \"/Detailpage\",\n    });\n  };\n\n  const ListItems = () => (\n    <ListGroup>\n      {result.map((list, idx) => (\n        <li\n          key={idx}\n          value={list._id}\n          onClick={clickHandler}\n          className=\"text-left  list-group-item\"\n        >\n          {list.market_cap}\n        </li>\n      ))}\n    </ListGroup>\n  );\n\n  return (\n    <div className=\"col-md-8  mx-auto mt-5 \">\n      <input\n        type=\"text\"\n        className=\"form-control searchBox\"\n        placeholder=\"Search the company ...\"\n        onChange={changehandler}\n        name=\"search\"\n      />\n      <ListItems />\n    </div>\n  );\n};\nexport default SearchBox;\n"]},"metadata":{},"sourceType":"module"}