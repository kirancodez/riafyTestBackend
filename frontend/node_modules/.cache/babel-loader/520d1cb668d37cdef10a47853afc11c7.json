{"ast":null,"code":"var _jsxFileName = \"/Volumes/Godown/Riafy/frontend/src/components/home/Searcbox.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { fetchSearchResult } from \"./searchHelper/SearchHelper\";\nimport { ListGroup } from \"react-bootstrap\";\nimport _ from \"lodash\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchBox = () => {\n  _s();\n\n  const history = useHistory();\n  const [search, setSearch] = useState({\n    keyword: \"\",\n    error: false,\n    result: [],\n    loading: false,\n    message: \"\"\n  });\n  const {\n    keyword,\n    result\n  } = search; // const changehandler = (event) => {\n  //   setSearch({\n  //     ...search,\n  //     keyword: event.target.value,\n  //     error: false,\n  //     loading: true,\n  //     message: \"\",\n  //   });\n  // };\n\n  const changehandler = _.debounce(event => {\n    if (event.target) {\n      setSearch({ ...search,\n        keyword: event.target.value,\n        error: false,\n        loading: true,\n        message: \"\"\n      });\n    }\n  }, 300);\n\n  useEffect(() => {\n    if (keyword) {\n      fetchSearchResult({\n        keyword: keyword\n      }).then(data => {\n        if (data.error) {\n          setSearch({ ...search,\n            error: data.error\n          });\n        } else {\n          setSearch({ ...search,\n            result: data\n          });\n        }\n      });\n    } else {\n      setSearch({ ...search,\n        result: []\n      });\n    }\n  }, [keyword]);\n\n  const clickHandler = event => {\n    history.push({\n      companyId: event.target.getAttribute(\"value\"),\n      pathname: \"/Detailpage\"\n    });\n  };\n\n  const ListItems = () => /*#__PURE__*/_jsxDEV(ListGroup, {\n    children: result.map((list, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n      value: list._id,\n      onClick: clickHandler,\n      className: \"text-left  list-group-item\",\n      children: list.market_cap\n    }, idx, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-md-8  mx-auto mt-5 \",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"form-control searchBox\",\n      placeholder: \"Search the company ...\",\n      onChange: changehandler,\n      name: \"search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListItems, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchBox, \"4HnRuyUy/J62KipTc24JvsiBSEE=\", false, function () {\n  return [useHistory];\n});\n\n_c = SearchBox;\nexport default SearchBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchBox\");","map":{"version":3,"sources":["/Volumes/Godown/Riafy/frontend/src/components/home/Searcbox.js"],"names":["React","useState","useEffect","fetchSearchResult","ListGroup","_","Link","useHistory","useLocation","SearchBox","history","search","setSearch","keyword","error","result","loading","message","changehandler","debounce","event","target","value","then","data","clickHandler","push","companyId","getAttribute","pathname","ListItems","map","list","idx","_id","market_cap"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { fetchSearchResult } from \"./searchHelper/SearchHelper\";\nimport { ListGroup } from \"react-bootstrap\";\nimport _ from \"lodash\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\n\n\nconst SearchBox = () => {\n  const history = useHistory();\n  const [search, setSearch] = useState({\n    keyword: \"\",\n    error: false,\n    result: [],\n    loading: false,\n    message: \"\",\n  });\n\n  const { keyword, result } = search;\n\n  // const changehandler = (event) => {\n  //   setSearch({\n  //     ...search,\n  //     keyword: event.target.value,\n  //     error: false,\n  //     loading: true,\n  //     message: \"\",\n  //   });\n  // };\n\n\nconst changehandler = _.debounce((event) => {\n  if(event.target){\n    setSearch({\n      ...search,\n      keyword: event.target.value,\n      error: false,\n      loading: true,\n      message: \"\",\n    });\n  }\n},300)\n\n  useEffect(() => {\n    if (keyword) {\n      fetchSearchResult({ keyword: keyword }).then((data) => {\n        if (data.error) {\n          setSearch({\n            ...search,\n            error: data.error,\n          });\n        } else {\n          setSearch({ ...search, result: data });\n        }\n      });\n    } else {\n      setSearch({ ...search, result: [] });\n    }\n  }, [keyword]);\n\n  const clickHandler = (event) => {\n    history.push({\n      companyId: event.target.getAttribute(\"value\"),\n      pathname: \"/Detailpage\",\n    });\n  };\n\n  const ListItems = () => (\n    <ListGroup>\n      {result.map((list, idx) => (\n        <li\n          key={idx}\n          value={list._id}\n          onClick={clickHandler}\n          className=\"text-left  list-group-item\"\n        >\n          {list.market_cap}\n        </li>\n      ))}\n    </ListGroup>\n  );\n\n  return (\n    <div className=\"col-md-8  mx-auto mt-5 \">\n      <input\n        type=\"text\"\n        className=\"form-control searchBox\"\n        placeholder=\"Search the company ...\"\n        onChange={changehandler}\n        name=\"search\"\n      />\n      <ListItems />\n    </div>\n  );\n};\nexport default SearchBox;\n"]},"metadata":{},"sourceType":"module"}